/* ═══ Synapse Design System ═══════════════════════════════════════════════ */

/* ── Theme Variables ─────────────────────────────────────────────────── */
.syn-root {
  /* Backgrounds */
  --syn-bg: #000;
  --syn-bg-raised: #0a0a0a;
  --syn-bg-sunken: #050505;
  --syn-bg-input: #080808;
  --syn-bg-hover: #111;
  --syn-bg-active: #1a1a1a;

  /* Borders */
  --syn-border: #1a1a1a;
  --syn-border-strong: #333;
  --syn-border-hover: #2a2a2a;
  --syn-border-subtle: #111;

  /* Text */
  --syn-text: #e0e0e0;
  --syn-text-heading: #fff;
  --syn-text-secondary: #ccc;
  --syn-text-tertiary: #888;
  --syn-text-muted: #555;
  --syn-text-dim: #444;
  --syn-text-ghost: #333;

  /* Semantic tint surfaces */
  --syn-green-bg: #0d1410;
  --syn-green-border: #1a2a22;
  --syn-red-bg: #140e0e;
  --syn-red-border: #2a1a1a;
  --syn-amber-bg: #141210;
  --syn-amber-border: #2a2518;
  --syn-blue-bg: #0e0e14;
  --syn-blue-border: #1a1a2a;
  --syn-teal-bg: #0e1414;
  --syn-teal-border: #1a2222;
  --syn-purple-bg: #120e14;
  --syn-purple-border: #2a1a2a;
  --syn-orange-bg: #14110e;
  --syn-orange-border: #2a2018;

  /* Components */
  --syn-scrollbar-thumb: #222;
  --syn-scrollbar-hover: #333;
  --syn-selection-bg: rgba(255,255,255,0.2);
  --syn-spinner-track: #1a1a1a;
  --syn-spinner-head: #fff;
  --syn-skeleton-from: #111;
  --syn-skeleton-via: #1a1a1a;
  --syn-dot-color: #fff;
  --syn-glow: rgba(255,255,255,0.2);
  --syn-glow-strong: rgba(255,255,255,0.4);
  --syn-shadow: rgba(0,0,0,0.5);

  /* Primary button */
  --syn-btn-primary-bg: #fff;
  --syn-btn-primary-text: #000;
  --syn-btn-primary-hover: #e5e5e5;
  --syn-btn-primary-border: #333;
  --syn-btn-primary-outline: #fff;
}

.syn-root.syn-light {
  /* Backgrounds */
  --syn-bg: #f5f5f7;
  --syn-bg-raised: #ffffff;
  --syn-bg-sunken: #f0f0f2;
  --syn-bg-input: #ffffff;
  --syn-bg-hover: #eeeef0;
  --syn-bg-active: #e5e5e8;

  /* Borders */
  --syn-border: #e0e0e2;
  --syn-border-strong: #bbb;
  --syn-border-hover: #ccc;
  --syn-border-subtle: #eee;

  /* Text */
  --syn-text: #333;
  --syn-text-heading: #111;
  --syn-text-secondary: #444;
  --syn-text-tertiary: #666;
  --syn-text-muted: #999;
  --syn-text-dim: #bbb;
  --syn-text-ghost: #ddd;

  /* Semantic tint surfaces */
  --syn-green-bg: #edf7f0;
  --syn-green-border: #c5e0cc;
  --syn-red-bg: #fdf0f0;
  --syn-red-border: #e5c5c5;
  --syn-amber-bg: #fdf8ee;
  --syn-amber-border: #e0d5b5;
  --syn-blue-bg: #eff0f8;
  --syn-blue-border: #c5c8e0;
  --syn-teal-bg: #edf5f5;
  --syn-teal-border: #c5d8d8;
  --syn-purple-bg: #f3eff8;
  --syn-purple-border: #d5c5e0;
  --syn-orange-bg: #fdf5ee;
  --syn-orange-border: #e0d0b5;

  /* Components */
  --syn-scrollbar-thumb: #ccc;
  --syn-scrollbar-hover: #aaa;
  --syn-selection-bg: rgba(0,0,0,0.12);
  --syn-spinner-track: #e0e0e2;
  --syn-spinner-head: #333;
  --syn-skeleton-from: #e8e8ea;
  --syn-skeleton-via: #f2f2f4;
  --syn-dot-color: #333;
  --syn-glow: rgba(0,0,0,0.06);
  --syn-glow-strong: rgba(0,0,0,0.12);
  --syn-shadow: rgba(0,0,0,0.1);

  /* Primary button */
  --syn-btn-primary-bg: #111;
  --syn-btn-primary-text: #fff;
  --syn-btn-primary-hover: #333;
  --syn-btn-primary-border: #333;
  --syn-btn-primary-outline: #111;
}

/* ── Animations ───────────────────────────────────────────────────────── */
@keyframes syn-pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
@keyframes syn-slide-in { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
@keyframes syn-slide-h { from { opacity: 0; transform: translateX(-12px); } to { opacity: 1; transform: translateX(0); } }
@keyframes syn-fade { from { opacity: 0; } to { opacity: 1; } }
@keyframes syn-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes syn-glow { 0%, 100% { box-shadow: 0 0 8px var(--syn-glow); } 50% { box-shadow: 0 0 20px var(--syn-glow-strong); } }
@keyframes syn-verdict-pop { 0% { transform: scale(0.8); opacity: 0; } 50% { transform: scale(1.05); } 100% { transform: scale(1); opacity: 1; } }
@keyframes syn-agent-pulse {
  0% { box-shadow: 0 0 0 0 var(--agent-glow); }
  50% { box-shadow: 0 0 12px 4px var(--agent-glow); }
  100% { box-shadow: 0 0 0 0 var(--agent-glow); }
}
@keyframes syn-ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
@keyframes syn-skeleton {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* ── Global Synapse Scope ─────────────────────────────────────────────── */
.syn-root {
  height: 100vh;
  background-color: var(--syn-bg);
  color: var(--syn-text);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.syn-root ::selection { background: var(--syn-selection-bg); }
.syn-root * { box-sizing: border-box; }
.syn-root ::-webkit-scrollbar { width: 5px; }
.syn-root ::-webkit-scrollbar-track { background: transparent; }
.syn-root ::-webkit-scrollbar-thumb { background: var(--syn-scrollbar-thumb); border-radius: 3px; }
.syn-root ::-webkit-scrollbar-thumb:hover { background: var(--syn-scrollbar-hover); }
.syn-root .scroll-ticker-wrap:hover > div { animation-play-state: paused; }

/* ── Buttons ──────────────────────────────────────────────────────────── */
.syn-btn {
  border: 1px solid var(--syn-scrollbar-thumb);
  background: transparent;
  color: var(--syn-text-tertiary);
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  gap: 5px;
}
.syn-btn:hover { border-color: var(--syn-text-dim); color: var(--syn-text-heading); }
.syn-btn:focus-visible { outline: 1px solid var(--syn-text-tertiary); outline-offset: 1px; }

.syn-btn-primary {
  border: 1px solid var(--syn-btn-primary-border);
  background: var(--syn-btn-primary-bg);
  color: var(--syn-btn-primary-text);
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s;
}
.syn-btn-primary:hover { background: var(--syn-btn-primary-hover); }
.syn-btn-primary:focus-visible { outline: 2px solid var(--syn-btn-primary-outline); outline-offset: 2px; }
.syn-btn-primary:disabled { opacity: 0.3; cursor: default; }

.syn-btn-ghost {
  border: 1px solid var(--syn-border);
  background: transparent;
  color: var(--syn-text-dim);
  font-size: 10px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s;
}
.syn-btn-ghost:hover { border-color: var(--syn-border-strong); color: var(--syn-text-tertiary); }
.syn-btn-ghost:focus-visible { outline: 1px solid var(--syn-text-muted); outline-offset: 1px; }

.syn-btn-danger {
  border: 1px solid var(--syn-red-border);
  background: transparent;
  color: #c47070;
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
}
.syn-btn-danger:hover { background: var(--syn-red-bg); }

.syn-btn-success {
  border: 1px solid var(--syn-green-border);
  background: transparent;
  color: #6fad8e;
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
}
.syn-btn-success:hover { background: var(--syn-green-bg); }

/* ── Mode Toggle ──────────────────────────────────────────────────────── */
.syn-mode-btn {
  padding: 5px 16px;
  border: 1px solid var(--syn-border-subtle);
  background: transparent;
  color: var(--syn-text-dim);
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}
.syn-mode-btn.active { border-color: var(--syn-border-strong); background: var(--syn-bg-hover); color: var(--syn-text-secondary); }
.syn-mode-btn:first-child { border-radius: 2px 0 0 2px; }
.syn-mode-btn:last-child { border-radius: 0 2px 2px 0; }
.syn-mode-btn:focus-visible { outline: 1px solid var(--syn-text-muted); outline-offset: 1px; }

/* ── Inputs ───────────────────────────────────────────────────────────── */
.syn-input {
  flex: 1;
  padding: 11px 14px;
  background: var(--syn-bg-input);
  border: 1px solid var(--syn-border);
  color: var(--syn-text-secondary);
  font-size: 12px;
  outline: none;
  transition: border-color 0.2s;
}
.syn-input:focus { border-color: var(--syn-border-strong); }
.syn-input::placeholder { color: var(--syn-text-dim); }

.syn-textarea {
  flex: 1;
  padding: 11px 14px;
  background: var(--syn-bg-input);
  border: 1px solid var(--syn-border);
  color: var(--syn-text-secondary);
  font-size: 12px;
  outline: none;
  resize: vertical;
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
  transition: border-color 0.2s;
}
.syn-textarea:focus { border-color: var(--syn-border-strong); }
.syn-textarea::placeholder { color: var(--syn-text-dim); }

/* ── Cards ────────────────────────────────────────────────────────────── */
.syn-card {
  padding: 10px 12px;
  margin-bottom: 4px;
  border-radius: 8px;
  cursor: pointer;
  border: 1px solid var(--syn-border);
  background: var(--syn-bg-raised);
  transition: all 0.2s;
}
.syn-card:hover { border-color: var(--syn-border-hover); }
.syn-card:focus-visible { outline: 1px solid var(--syn-text-muted); outline-offset: 1px; }
.syn-card.selected { border-color: var(--syn-border-strong); }

.syn-evidence-card {
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid var(--syn-border);
  background: var(--syn-bg-raised);
  cursor: pointer;
  transition: border-color 0.2s;
}
.syn-evidence-card:hover { border-color: var(--syn-border-strong); }
.syn-evidence-card.expanded { border-color: var(--syn-border-strong); }
.syn-evidence-card.counter { background: var(--syn-red-bg); border-color: var(--syn-red-border); }

/* ── Links ────────────────────────────────────────────────────────────── */
.syn-link {
  font-size: 11px;
  color: #6a9f9c;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 4px;
  background: var(--syn-teal-bg);
  border: 1px solid var(--syn-teal-border);
  transition: all 0.15s;
}
.syn-link:hover { border-color: #2a3a3a; color: #8ab8b4; }
.syn-link:focus-visible { outline: 1px solid #6a9f9c; outline-offset: 1px; }

/* ── Tab Bar ──────────────────────────────────────────────────────────── */
.syn-tab {
  flex: 1;
  padding: 10px 8px;
  border: none;
  border-bottom: 2px solid transparent;
  background: transparent;
  color: var(--syn-text-muted);
  font-size: 11px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
}
.syn-tab:hover { color: var(--syn-text-tertiary); }
.syn-tab.active { border-bottom-color: var(--syn-text-heading); color: var(--syn-text-heading); }
.syn-tab:focus-visible { outline: 1px solid var(--syn-text-muted); outline-offset: -2px; }

/* ── Example Rows ─────────────────────────────────────────────────────── */
.syn-example-row {
  width: 100%;
  padding: 8px 14px;
  background: transparent;
  cursor: pointer;
  text-align: left;
  transition: background 0.15s;
  display: flex;
  align-items: center;
  gap: 12px;
  border: none;
  color: inherit;
}
.syn-example-row:hover { background: var(--syn-bg-raised); }
.syn-example-row:focus-visible { outline: 1px solid var(--syn-border-strong); outline-offset: -1px; }

/* ── Utility ──────────────────────────────────────────────────────────── */
.syn-fade { animation: syn-fade 0.2s ease; }
.syn-slide { animation: syn-slide-in 0.3s ease both; }
.syn-mono { font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', monospace; }

.syn-spinner {
  width: 20px;
  height: 20px;
  border: 2px solid var(--syn-spinner-track);
  border-top-color: var(--syn-spinner-head);
  border-radius: 50%;
  animation: syn-spin 0.8s linear infinite;
}

.syn-dot-pulse {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--syn-dot-color);
  animation: syn-pulse 1.2s ease-in-out infinite;
}

/* ── Loading Skeleton ─────────────────────────────────────────────────── */
.syn-skeleton {
  background: linear-gradient(90deg, var(--syn-skeleton-from) 25%, var(--syn-skeleton-via) 50%, var(--syn-skeleton-from) 75%);
  background-size: 200% 100%;
  animation: syn-skeleton 1.5s ease-in-out infinite;
  border-radius: 4px;
}

/* ── Empty State ──────────────────────────────────────────────────────── */
.syn-empty-state {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: var(--syn-bg);
  padding: 40px;
  text-align: center;
}

/* ── Trace Feed ───────────────────────────────────────────────────────── */
.syn-trace-line {
  animation: syn-fade 0.15s ease;
  display: flex;
  gap: 5px;
  align-items: flex-start;
}

/* ── Section Header ───────────────────────────────────────────────────── */
.syn-section-header {
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--syn-text-muted);
}

/* ── Theme Toggle ─────────────────────────────────────────────────────── */
.syn-theme-toggle {
  width: 32px;
  height: 18px;
  border-radius: 10px;
  border: 1px solid var(--syn-border);
  background: var(--syn-bg-raised);
  cursor: pointer;
  position: relative;
  transition: all 0.2s;
  flex-shrink: 0;
}
.syn-theme-toggle::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--syn-text-muted);
  transition: transform 0.2s;
}
.syn-root.syn-light .syn-theme-toggle::after {
  transform: translateX(14px);
  background: var(--syn-text-tertiary);
}
.syn-theme-toggle:hover { border-color: var(--syn-border-strong); }
.syn-theme-toggle:hover::after { background: var(--syn-text-tertiary); }
